"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[118],{3301:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>r});var o=n(4848),d=n(8453);const i={sidebar_position:2},t="Quickstart: Mistral embeddings",l={id:"ru/guides/embeddings/index",title:"Quickstart: Mistral embeddings",description:"This guide will show you how to deploy the SFR-Embedding-Mistral on a single A100-40GB GPU.",source:"@site/docs/ru/guides/embeddings/index.md",sourceDirName:"ru/guides/embeddings",slug:"/ru/guides/embeddings/",permalink:"/ru/ru/guides/embeddings/",draft:!1,unlisted:!1,editUrl:"https://github.com/compressa-ai/docs/main/docs/ru/guides/embeddings/index.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2}},a={},r=[{value:"Deploy Compressa",id:"deploy-compressa",level:2},{value:"Download model",id:"download-model",level:2},{value:"Deploy model",id:"deploy-model",level:2},{value:"Model access",id:"model-access",level:2}];function c(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h1,{id:"quickstart-mistral-embeddings",children:"Quickstart: Mistral embeddings"}),"\n",(0,o.jsxs)(s.p,{children:["This guide will show you how to deploy the SFR-Embedding-Mistral on a single A100-40GB GPU.",(0,o.jsx)(s.br,{}),"\n","The A100-40GB GPU allows you to host the embedding model."]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"https://huggingface.co/Salesforce/SFR-Embedding-Mistral",children:"Salesforce/SFR-Embedding-Mistral"})," is the best open-source embedding model according to ",(0,o.jsx)(s.a,{href:"https://huggingface.co/spaces/mteb/leaderboard",children:"MTEB english leaderboard"}),"."]}),"\n",(0,o.jsx)(s.h2,{id:"deploy-compressa",children:"Deploy Compressa"}),"\n",(0,o.jsxs)(s.p,{children:["The first step is to deploy compressa according to the ",(0,o.jsx)(s.a,{href:"/ru/docs/setup/",children:"instruction"}),"."]}),"\n",(0,o.jsxs)(s.p,{children:["Assuming Compressa is deployed on port 8080,\nyou can use the manager's REST API at ",(0,o.jsx)(s.a,{href:"http://localhost:8080/api",children:"http://localhost:8080/api"})," to download and deploy the model."]}),"\n",(0,o.jsxs)(s.p,{children:["Full details about the manager API can be found in the ",(0,o.jsx)(s.a,{href:"/ru/docs/services/rest-api",children:"instruction"}),"\nor on the Swagger page at ",(0,o.jsx)(s.code,{children:"http://localhost:8080/api/docs"}),"."]}),"\n",(0,o.jsx)(s.h2,{id:"download-model",children:"Download model"}),"\n",(0,o.jsx)(s.admonition,{type:"note",children:(0,o.jsxs)(s.p,{children:["If you're deploying Compressa in private network without internet access that step can be skipped.\nPlease use the ",(0,o.jsx)(s.a,{href:"/ru/docs/setup/on-premise",children:"instruction"})," to download resources before deployment."]})}),"\n",(0,o.jsxs)(s.p,{children:["You can download the model using the following ",(0,o.jsx)(s.code,{children:"curl"})," command:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"curl -X 'POST' \\\n    'http://localhost:8080/api/v1/models/add/?model_id=Salesforce%2FSFR-Embedding-Mistral' \\\n    -H 'accept: application/json' \\\n    -d ''\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Alternatively, download directly from the Swagger page by clicking ",(0,o.jsx)(s.strong,{children:"Try it out"}),":\n",(0,o.jsx)(s.img,{alt:"Add model",src:n(5321).A+"",width:"2324",height:"1022"})]}),"\n",(0,o.jsxs)(s.p,{children:["The model will be downloaded within a few minutes.",(0,o.jsx)(s.br,{}),"\n","The process can be monitored from the console log or via the ",(0,o.jsx)(s.a,{href:"/docs/services/rest-api#get-v1models",children:"API"}),"."]}),"\n",(0,o.jsx)(s.h2,{id:"deploy-model",children:"Deploy model"}),"\n",(0,o.jsx)(s.p,{children:"You can also deploy the model using the following curl command:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"curl -X 'POST' \\\n    'http://localhost:8080/api/v1/deploy/' \\\n    -H 'accept: application/json' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n        \"model_id\": \"Salesforce/SFR-Embedding-Mistral\"\n    }'\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Or directly from the Swagger page:\n",(0,o.jsx)(s.img,{alt:"Deloy model",src:n(8607).A+"",width:"2354",height:"1514"})]}),"\n",(0,o.jsx)(s.p,{children:"Deployment will take less than a minute."}),"\n",(0,o.jsx)(s.h2,{id:"model-access",children:"Model access"}),"\n",(0,o.jsxs)(s.p,{children:["Once the model is deployed, it will be accessible through the OpenAI compatible API at ",(0,o.jsx)(s.code,{children:"http://localhost:8080/v1/embeddings"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"curl -X 'POST' \\\n    'https://localhsot:8080/v1/embeddings' \\\n    -H 'accept: application/json' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n        \"model\": \"/app/resources/models/models/Salesforce_SFR-Embedding-Mistral\",\n        \"input\": \"Document\"\n    }'\n"})})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},5321:(e,s,n)=>{n.d(s,{A:()=>o});const o=n.p+"assets/images/swagger-add-embedding-b7e051578b89f6b48b6d49f0c61afab0.png"},8607:(e,s,n)=>{n.d(s,{A:()=>o});const o=n.p+"assets/images/swagger-deploy-embedding-fdf6320aa1029048a58cdc6450ec68c3.png"},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var o=n(6540);const d={},i=o.createContext(d);function t(e){const s=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),o.createElement(i.Provider,{value:s},e.children)}}}]);